<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Exemplo AJAX</title>
<script>
	var request;
	
	function sendRequest(){
		
		//Determina o estado selecionado
		combo = document.getElementById("estadp");
		estado = combo.options[combo.selectedIndex].value;
		
		//Retorna quando nenhum estado for selecionado
		if (estado == "-1"){
			return;
		}
		
		//Momta a url de requisição para o servidor
		url = "cadastrarCliente?action=preencherCidades&estado=" + estado;
		
		//Inicializa o objeto XLMHttpRequest
		request = new XMLHttpRequest();
		
		//Determina a função para processamento da requisição
		request.onload = processRequest;
		
		//Configura a requisição
		request.opem("GET", url, true);
		
		//Envia a requisição
		request.send();
	}
	
	function processRequest(){
		//Faz a leitura do documento XML recebido
		var response = request.responseXML;
		
		var RAIZ = response.getElementsByTagName("cidades").item(0);
		var cidades = raiz.getElementsByTagName("cidade");
		
		//Preenche a caixa de opções com os valores recebidos
		for (var int = 0; int < cidades.length; int++) {
			var txtCidade = cidades.item(i).firstChield.data;
			var option = new Option(txtCidade);
			selectNode.add(option, null);
		}
	}
</script>
</head>
<body>

</body>
</html>